---
title: Basic Context Menu
category: Application
paid: false
isActive: true
ltr: {"vue":{"vueTail":[],"vueCss":[]},"preview":"function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction App() {\n  const MenuItem = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"li\", {\n    key: props.key || \"\"\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    className: \"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\",\n    role: \"menuitem\"\n  }), children));\n  const CommandItem = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"span\", _extends({}, props, {\n    className: \"text-gray-500 group-hover:text-white duration-150\"\n  }), children);\n  const contextmenuRef = React.useRef();\n  const contextmenuHandler = React.useRef();\n  const [isActive, setIsActive] = React.useState(false);\n  const [position, setPosition] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const menuItems = {\n    group_1: [{\n      name: \"Share\",\n      command: \"\"\n    }, {\n      name: \"Get link\",\n      command: \"\"\n    }, {\n      name: \"Move to\",\n      command: \"Ctrl+M\"\n    }],\n    group_2: [{\n      name: \"Copy link\",\n      command: \"Ctrl+C\"\n    }],\n    group_3: [{\n      name: \"Rename\",\n      command: \"\"\n    }, {\n      name: \"Duplicate\",\n      command: \"\"\n    }],\n    group_4: [{\n      name: \"Delete\",\n      command: \"Ctrl+D\"\n    }, {\n      name: \"Archieve\",\n      command: \"\"\n    }, {\n      name: \"Import files\",\n      command: \"\"\n    }]\n  };\n  const handlecontextMenu = e => {\n    e.preventDefault();\n    const {\n      pageX,\n      pageY\n    } = e;\n    setIsActive(true);\n    setTimeout(() => {\n      const rect = contextmenuRef.current.getBoundingClientRect();\n      const x = pageX + rect.width > window.innerWidth ? window.innerWidth - rect.width : pageX + 2;\n      const y = pageY + rect.height > window.innerHeight ? window.innerHeight - rect.height : pageY + 2;\n      setPosition({\n        x,\n        y\n      });\n      contextmenuRef.current.classList.remove(\"opacity-0\");\n      document.documentElement.classList.add(\"overflow-hidden\");\n    }, 100);\n  };\n  const resetToDefault = () => {\n    setIsActive(false);\n    document.documentElement.classList.remove(\"overflow-hidden\");\n  };\n  React.useEffect(() => {\n    document.addEventListener(\"click\", () => resetToDefault());\n    document.addEventListener(\"contextmenu\", e => {\n      if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"px-4 pt-12\",\n    style: {\n      height: \"520px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuHandler,\n    onContextMenu: handlecontextMenu,\n    className: \"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Right click here.\")), isActive ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuRef,\n    className: \"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\",\n    style: {\n      top: `${position.y}px`,\n      left: `${position.x}px`\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"px-2 py-1.5\",\n    role: \"menu\"\n  }, menuItems.group_1.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))), [menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"px-2 py-1.5 border-t\",\n    role: \"menu\",\n    key: i\n  }, group.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))))) : \"\");\n}","react":{"jsxTail":[{"code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <li key={props.key || \"\"}>\n        <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\" role=\"menuitem\">\n            {children}\n        </button>\n    </li>\n)\n\nconst CommandItem = ({ children, ...props }) => (\n    <span {...props} className=\"text-gray-500 group-hover:text-white duration-150\">\n        {children}\n    </span>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"Share\",\n                command: \"\"\n            },\n            {\n                name: \"Get link\",\n                command: \"\"\n            },\n            {\n                name: \"Move to\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"Copy link\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"Rename\",\n                command: \"\"\n            },\n            {\n                name: \"Duplicate\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"Delete\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"Archieve\",\n                command: \"\"\n            },\n            {\n                name: \"Import files\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = () => {\n        setIsActive(false)\n        document.documentElement.classList.remove(\"overflow-hidden\")\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", () => resetToDefault())\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>Right click here.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} className=\"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <ul className=\"px-2 py-1.5\" role=\"menu\">\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))\n                            }\n                        </ul>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <ul className=\"px-2 py-1.5 border-t\" role=\"menu\" key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </ul>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","label":"App.jsx"}],"jsxCss":[]}}
rtl: {"preview":"function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction App() {\n  const MenuItem = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"li\", {\n    key: props.key || \"\"\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    className: \"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\",\n    role: \"menuitem\"\n  }), children));\n  const CommandItem = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"span\", _extends({}, props, {\n    className: \"text-gray-500 group-hover:text-white duration-150\"\n  }), children);\n  const contextmenuRef = React.useRef();\n  const contextmenuHandler = React.useRef();\n  const [isActive, setIsActive] = React.useState(false);\n  const [position, setPosition] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const menuItems = {\n    group_1: [{\n      name: \"شارك\",\n      command: \"\"\n    }, {\n      name: \"خذ رابط\",\n      command: \"\"\n    }, {\n      name: \"نقل\",\n      command: \"Ctrl+M\"\n    }],\n    group_2: [{\n      name: \"نسخ الرابط\",\n      command: \"Ctrl+C\"\n    }],\n    group_3: [{\n      name: \"إعادة تسمية\",\n      command: \"\"\n    }, {\n      name: \"كرر\",\n      command: \"\"\n    }],\n    group_4: [{\n      name: \"حذف\",\n      command: \"Ctrl+D\"\n    }, {\n      name: \"ارشفة\",\n      command: \"\"\n    }, {\n      name: \"استيراد الملفات\",\n      command: \"\"\n    }]\n  };\n  const handlecontextMenu = e => {\n    e.preventDefault();\n    const {\n      pageX,\n      pageY\n    } = e;\n    setIsActive(true);\n    setTimeout(() => {\n      const rect = contextmenuRef.current.getBoundingClientRect();\n      const x = pageX + rect.width > window.innerWidth ? window.innerWidth - rect.width : pageX + 2;\n      const y = pageY + rect.height > window.innerHeight ? window.innerHeight - rect.height : pageY + 2;\n      setPosition({\n        x,\n        y\n      });\n      contextmenuRef.current.classList.remove(\"opacity-0\");\n      document.documentElement.classList.add(\"overflow-hidden\");\n    }, 100);\n  };\n  const resetToDefault = () => {\n    setIsActive(false);\n    document.documentElement.classList.remove(\"overflow-hidden\");\n  };\n  React.useEffect(() => {\n    document.addEventListener(\"click\", () => resetToDefault());\n    document.addEventListener(\"contextmenu\", e => {\n      if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"px-4 pt-12\",\n    style: {\n      height: \"520px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuHandler,\n    onContextMenu: handlecontextMenu,\n    className: \"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"\\u0627\\u0646\\u0642\\u0631 \\u0628\\u0632\\u0631 \\u0627\\u0644\\u0645\\u0627\\u0648\\u0633 \\u0627\\u0644\\u0623\\u064A\\u0645\\u0646 \\u0647\\u0646\\u0627.\")), isActive ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuRef,\n    className: \"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\",\n    style: {\n      top: `${position.y}px`,\n      left: `${position.x}px`\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"px-2 py-1.5\",\n    role: \"menu\"\n  }, menuItems.group_1.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))), [menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"px-2 py-1.5 border-t\",\n    role: \"menu\",\n    key: i\n  }, group.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))))) : \"\");\n}","vue":{"vueCss":[],"vueTail":[]},"react":{"jsxCss":[],"jsxTail":[{"code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <li key={props.key || \"\"}>\n        <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\" role=\"menuitem\">\n            {children}\n        </button>\n    </li>\n)\n\nconst CommandItem = ({ children, ...props }) => (\n    <span {...props} className=\"text-gray-500 group-hover:text-white duration-150\">\n        {children}\n    </span>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"شارك\",\n                command: \"\"\n            },\n            {\n                name: \"خذ رابط\",\n                command: \"\"\n            },\n            {\n                name: \"نقل\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"نسخ الرابط\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"إعادة تسمية\",\n                command: \"\"\n            },\n            {\n                name: \"كرر\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"حذف\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"ارشفة\",\n                command: \"\"\n            },\n            {\n                name: \"استيراد الملفات\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = () => {\n        setIsActive(false)\n        document.documentElement.classList.remove(\"overflow-hidden\")\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", () => resetToDefault())\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>انقر بزر الماوس الأيمن هنا.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} className=\"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <ul className=\"px-2 py-1.5\" role=\"menu\">\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))\n                            }\n                        </ul>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <ul className=\"px-2 py-1.5 border-t\" role=\"menu\" key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </ul>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","label":"App.jsx"}]}}
slug: /context-menus
id: c4f633ab-f487-47c6-80e0-a6712d74dd3d
created_at: 1682973538578
---