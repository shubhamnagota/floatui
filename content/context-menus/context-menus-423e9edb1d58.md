---
title: Context Menu with submenu
category: Application
paid: false
isActive: true
ltr: {"vue":{"vueCss":[],"vueTail":[]},"react":{"jsxCss":[],"jsxTail":[{"code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <div key={props.key || \"\"} role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\">\n                {children}\n            </button>\n        </div>\n    </div>\n)\n\nconst MenuItemSub = ({ children, ...props }) => (\n    <div key={props.key || \"\"} className=\"relative group\" role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\">\n                {props.item}\n                <svg className=\"w-3 h-3 text-gray-600 group-hover:text-white\" viewBox=\"0 0 10 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M0.5858 2.34317L2 0.928955L9.0711 8L2 15.0711L0.5858 13.6569L6.2427 8L0.5858 2.34317Z\" fill=\"currentColor\" />\n                </svg>\n            </button>\n        </div>\n        {children}\n    </div>\n)\n\nconst CommandItem = ({ children, className, props }) => (\n    <span {...props} className={`text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`}>\n        {children}\n    </span>\n)\n\nconst ContextMenuSubWrapper = ({ children, ...props }) => (\n    <div {...props} className=\"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\">\n        {children}\n    </div>\n)\n\nconst WrapperDevide = ({ children, ...props }) => (\n    <div {...props} className=\"pt-1.5 mt-1.5 border-t\">\n        {children}\n    </div>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n    const [submenuPosition, setSubmenuPosition] = useState(0)\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"Share\",\n                command: \"\"\n            },\n            {\n                name: \"Plugins\",\n                command: \"\",\n                submenu: [\n                    {\n                        name: \"Unsplash\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Inbox Cleaner\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Auto layout\",\n                        command: \"\"\n                    },\n                ]\n            },\n            {\n                name: \"Move to\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"Copy link\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"Rename\",\n                command: \"\"\n            },\n            {\n                name: \"Duplicate\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"Delete\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"Archieve\",\n                command: \"\"\n            },\n            {\n                name: \"Import files\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            setSubmenuPosition((pageX + (rect.width * 2)) > window.innerWidth ? (-(rect.width - 10)) : (rect.width - 10))\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = (e) => {\n        if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n            setIsActive(false)\n            document.documentElement.classList.remove(\"overflow-hidden\")\n        }\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", (e) => resetToDefault(e))\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>Right click here.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} role=\"menu\" className=\"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <div>\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    item.submenu ? (\n                                        <MenuItemSub item={item.name} key={idx}>\n                                            <ContextMenuSubWrapper style={{ transform: `translateX(${submenuPosition}px)` }}>\n                                                {item.submenu.map((item, idx) => (\n                                                    <MenuItem key={idx}>\n                                                        {item.name}\n                                                        <CommandItem>\n                                                            {item.command}\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                ))}\n                                                <WrapperDevide>\n                                                    <MenuItem>\n                                                        Find more plugins\n                                                        <CommandItem>\n                                                            Ctrl+P\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                </WrapperDevide>\n                                            </ContextMenuSubWrapper>\n                                        </MenuItemSub>\n                                    ) : (\n                                        <MenuItem key={idx}>\n                                            {item.name}\n                                            <CommandItem>\n                                                {item.command}\n                                            </CommandItem>\n                                        </MenuItem>\n                                    )\n                                ))\n                            }\n                        </div>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <WrapperDevide key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </WrapperDevide>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","label":"App.jsx"}]},"preview":"function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction App() {\n  const MenuItem = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    key: props.key || \"\",\n    role: \"menuitem\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-2\"\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    className: \"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\"\n  }), children)));\n  const MenuItemSub = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    key: props.key || \"\",\n    className: \"relative group\",\n    role: \"menuitem\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-2\"\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    className: \"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\"\n  }), props.item, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"w-3 h-3 text-gray-600 group-hover:text-white\",\n    viewBox: \"0 0 10 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.5858 2.34317L2 0.928955L9.0711 8L2 15.0711L0.5858 13.6569L6.2427 8L0.5858 2.34317Z\",\n    fill: \"currentColor\"\n  })))), children);\n  const CommandItem = ({\n    children,\n    className,\n    props\n  }) => /*#__PURE__*/React.createElement(\"span\", _extends({}, props, {\n    className: `text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`\n  }), children);\n  const ContextMenuSubWrapper = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: \"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\"\n  }), children);\n  const WrapperDevide = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: \"pt-1.5 mt-1.5 border-t\"\n  }), children);\n  const contextmenuRef = React.useRef();\n  const contextmenuHandler = React.useRef();\n  const [isActive, setIsActive] = React.useState(false);\n  const [position, setPosition] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const [submenuPosition, setSubmenuPosition] = React.useState(0);\n  const menuItems = {\n    group_1: [{\n      name: \"Share\",\n      command: \"\"\n    }, {\n      name: \"Plugins\",\n      command: \"\",\n      submenu: [{\n        name: \"Unsplash\",\n        command: \"\"\n      }, {\n        name: \"Inbox Cleaner\",\n        command: \"\"\n      }, {\n        name: \"Auto layout\",\n        command: \"\"\n      }]\n    }, {\n      name: \"Move to\",\n      command: \"Ctrl+M\"\n    }],\n    group_2: [{\n      name: \"Copy link\",\n      command: \"Ctrl+C\"\n    }],\n    group_3: [{\n      name: \"Rename\",\n      command: \"\"\n    }, {\n      name: \"Duplicate\",\n      command: \"\"\n    }],\n    group_4: [{\n      name: \"Delete\",\n      command: \"Ctrl+D\"\n    }, {\n      name: \"Archieve\",\n      command: \"\"\n    }, {\n      name: \"Import files\",\n      command: \"\"\n    }]\n  };\n  const handlecontextMenu = e => {\n    e.preventDefault();\n    const {\n      pageX,\n      pageY\n    } = e;\n    setIsActive(true);\n    setTimeout(() => {\n      const rect = contextmenuRef.current.getBoundingClientRect();\n      const x = pageX + rect.width > window.innerWidth ? window.innerWidth - rect.width : pageX + 2;\n      const y = pageY + rect.height > window.innerHeight ? window.innerHeight - rect.height : pageY + 2;\n      setPosition({\n        x,\n        y\n      });\n      setSubmenuPosition(pageX + rect.width * 2 > window.innerWidth ? -(rect.width - 10) : rect.width - 10);\n      contextmenuRef.current.classList.remove(\"opacity-0\");\n      document.documentElement.classList.add(\"overflow-hidden\");\n    }, 100);\n  };\n  const resetToDefault = e => {\n    if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n      setIsActive(false);\n      document.documentElement.classList.remove(\"overflow-hidden\");\n    }\n  };\n  React.useEffect(() => {\n    document.addEventListener(\"click\", e => resetToDefault(e));\n    document.addEventListener(\"contextmenu\", e => {\n      if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"px-4 pt-12\",\n    style: {\n      height: \"520px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuHandler,\n    onContextMenu: handlecontextMenu,\n    className: \"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Right click here.\")), isActive ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuRef,\n    role: \"menu\",\n    className: \"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\",\n    style: {\n      top: `${position.y}px`,\n      left: `${position.x}px`\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", null, menuItems.group_1.map((item, idx) => item.submenu ? /*#__PURE__*/React.createElement(MenuItemSub, {\n    item: item.name,\n    key: idx\n  }, /*#__PURE__*/React.createElement(ContextMenuSubWrapper, {\n    style: {\n      transform: `translateX(${submenuPosition}px)`\n    }\n  }, item.submenu.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command))), /*#__PURE__*/React.createElement(WrapperDevide, null, /*#__PURE__*/React.createElement(MenuItem, null, \"Find more plugins\", /*#__PURE__*/React.createElement(CommandItem, null, \"Ctrl+P\"))))) : /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))), [menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => /*#__PURE__*/React.createElement(WrapperDevide, {\n    key: i\n  }, group.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))))) : \"\");\n}"}
rtl: {"react":{"jsxCss":[],"jsxTail":[{"code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <div key={props.key || \"\"} role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\">\n                {children}\n            </button>\n        </div>\n    </div>\n)\n\nconst MenuItemSub = ({ children, ...props }) => (\n    <div key={props.key || \"\"} className=\"relative group\" role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\">\n                {props.item}\n                <svg className=\"w-3 h-3 text-gray-600 group-hover:text-white\" viewBox=\"0 0 8 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M6.293 0.29303L0.585999 6.00003L6.293 11.707L7.707 10.293L3.414 6.00003L7.707 1.70703L6.293 0.29303Z\" fill=\"currentColor\" />\n                </svg>\n\n            </button>\n        </div>\n        {children}\n    </div>\n)\n\nconst CommandItem = ({ children, className, props }) => (\n    <span {...props} className={`text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`}>\n        {children}\n    </span>\n)\n\nconst ContextMenuSubWrapper = ({ children, ...props }) => (\n    <div {...props} className=\"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\">\n        {children}\n    </div>\n)\n\nconst WrapperDevide = ({ children, ...props }) => (\n    <div {...props} className=\"pt-1.5 mt-1.5 border-t\">\n        {children}\n    </div>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n    const [submenuPosition, setSubmenuPosition] = useState(0)\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"شارك\",\n                command: \"\"\n            },\n            {\n                name: \"اضافات\",\n                command: \"\",\n                submenu: [\n                    {\n                        name: \"Unsplash\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Inbox Cleaner\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Auto layout\",\n                        command: \"\"\n                    },\n                ]\n            },\n            {\n                name: \"نقل\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"نسخ الرابط\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"إعادة تسمية\",\n                command: \"\"\n            },\n            {\n                name: \"كرر\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"حذف\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"ارشفة\",\n                command: \"\"\n            },\n            {\n                name: \"استيراد الملفات\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            setSubmenuPosition(pageX - rect.width < 0 ? rect.width - 10 : -(rect.width - 10))\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = (e) => {\n        if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n            setIsActive(false)\n            document.documentElement.classList.remove(\"overflow-hidden\")\n        }\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", (e) => resetToDefault(e))\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>انقر بزر الماوس الأيمن هنا.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} role=\"menu\" className=\"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <div>\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    item.submenu ? (\n                                        <MenuItemSub item={item.name} key={idx}>\n                                            <ContextMenuSubWrapper style={{ left: `${submenuPosition}px` }}>\n                                                {item.submenu.map((item, idx) => (\n                                                    <MenuItem key={idx}>\n                                                        {item.name}\n                                                        <CommandItem>\n                                                            {item.command}\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                ))}\n                                                <WrapperDevide>\n                                                    <MenuItem>\n                                                        ايجاد المزيد\n                                                        <CommandItem>\n                                                            Ctrl+P\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                </WrapperDevide>\n                                            </ContextMenuSubWrapper>\n                                        </MenuItemSub>\n                                    ) : (\n                                        <MenuItem key={idx}>\n                                            {item.name}\n                                            <CommandItem>\n                                                {item.command}\n                                            </CommandItem>\n                                        </MenuItem>\n                                    )\n                                ))\n                            }\n                        </div>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <WrapperDevide key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </WrapperDevide>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","label":"App.jsx"}]},"vue":{"vueCss":[],"vueTail":[]},"preview":"function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction App() {\n  const MenuItem = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    key: props.key || \"\",\n    role: \"menuitem\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-2\"\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    className: \"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\"\n  }), children)));\n  const MenuItemSub = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    key: props.key || \"\",\n    className: \"relative group\",\n    role: \"menuitem\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-2\"\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    className: \"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\"\n  }), props.item, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"w-3 h-3 text-gray-600 group-hover:text-white\",\n    viewBox: \"0 0 8 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.293 0.29303L0.585999 6.00003L6.293 11.707L7.707 10.293L3.414 6.00003L7.707 1.70703L6.293 0.29303Z\",\n    fill: \"currentColor\"\n  })))), children);\n  const CommandItem = ({\n    children,\n    className,\n    props\n  }) => /*#__PURE__*/React.createElement(\"span\", _extends({}, props, {\n    className: `text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`\n  }), children);\n  const ContextMenuSubWrapper = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: \"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\"\n  }), children);\n  const WrapperDevide = ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: \"pt-1.5 mt-1.5 border-t\"\n  }), children);\n  const contextmenuRef = React.useRef();\n  const contextmenuHandler = React.useRef();\n  const [isActive, setIsActive] = React.useState(false);\n  const [position, setPosition] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const [submenuPosition, setSubmenuPosition] = React.useState(0);\n  const menuItems = {\n    group_1: [{\n      name: \"شارك\",\n      command: \"\"\n    }, {\n      name: \"اضافات\",\n      command: \"\",\n      submenu: [{\n        name: \"Unsplash\",\n        command: \"\"\n      }, {\n        name: \"Inbox Cleaner\",\n        command: \"\"\n      }, {\n        name: \"Auto layout\",\n        command: \"\"\n      }]\n    }, {\n      name: \"نقل\",\n      command: \"Ctrl+M\"\n    }],\n    group_2: [{\n      name: \"نسخ الرابط\",\n      command: \"Ctrl+C\"\n    }],\n    group_3: [{\n      name: \"إعادة تسمية\",\n      command: \"\"\n    }, {\n      name: \"كرر\",\n      command: \"\"\n    }],\n    group_4: [{\n      name: \"حذف\",\n      command: \"Ctrl+D\"\n    }, {\n      name: \"ارشفة\",\n      command: \"\"\n    }, {\n      name: \"استيراد الملفات\",\n      command: \"\"\n    }]\n  };\n  const handlecontextMenu = e => {\n    e.preventDefault();\n    const {\n      pageX,\n      pageY\n    } = e;\n    setIsActive(true);\n    setTimeout(() => {\n      const rect = contextmenuRef.current.getBoundingClientRect();\n      const x = pageX + rect.width > window.innerWidth ? window.innerWidth - rect.width : pageX + 2;\n      const y = pageY + rect.height > window.innerHeight ? window.innerHeight - rect.height : pageY + 2;\n      setPosition({\n        x,\n        y\n      });\n      setSubmenuPosition(pageX - rect.width < 0 ? rect.width - 10 : -(rect.width - 10));\n      contextmenuRef.current.classList.remove(\"opacity-0\");\n      document.documentElement.classList.add(\"overflow-hidden\");\n    }, 100);\n  };\n  const resetToDefault = e => {\n    if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n      setIsActive(false);\n      document.documentElement.classList.remove(\"overflow-hidden\");\n    }\n  };\n  React.useEffect(() => {\n    document.addEventListener(\"click\", e => resetToDefault(e));\n    document.addEventListener(\"contextmenu\", e => {\n      if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"px-4 pt-12\",\n    style: {\n      height: \"520px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuHandler,\n    onContextMenu: handlecontextMenu,\n    className: \"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"\\u0627\\u0646\\u0642\\u0631 \\u0628\\u0632\\u0631 \\u0627\\u0644\\u0645\\u0627\\u0648\\u0633 \\u0627\\u0644\\u0623\\u064A\\u0645\\u0646 \\u0647\\u0646\\u0627.\")), isActive ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: contextmenuRef,\n    role: \"menu\",\n    className: \"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\",\n    style: {\n      top: `${position.y}px`,\n      left: `${position.x}px`\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", null, menuItems.group_1.map((item, idx) => item.submenu ? /*#__PURE__*/React.createElement(MenuItemSub, {\n    item: item.name,\n    key: idx\n  }, /*#__PURE__*/React.createElement(ContextMenuSubWrapper, {\n    style: {\n      left: `${submenuPosition}px`\n    }\n  }, item.submenu.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command))), /*#__PURE__*/React.createElement(WrapperDevide, null, /*#__PURE__*/React.createElement(MenuItem, null, \"\\u0627\\u064A\\u062C\\u0627\\u062F \\u0627\\u0644\\u0645\\u0632\\u064A\\u062F\", /*#__PURE__*/React.createElement(CommandItem, null, \"Ctrl+P\"))))) : /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))), [menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => /*#__PURE__*/React.createElement(WrapperDevide, {\n    key: i\n  }, group.map((item, idx) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: idx\n  }, item.name, /*#__PURE__*/React.createElement(CommandItem, null, item.command)))))) : \"\");\n}"}
slug: /context-menus
id: 9b6a3637-f510-4c9c-9963-423e9edb1d58
created_at: 1683145985954
---